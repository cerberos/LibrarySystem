<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Administrator Page</title>
        <h:outputStylesheet name="bootstrap.css" library="css"/>
    </h:head>
    <h:body>
        <h1>Welcome Administrator #{loginBean.FirstName} </h1>
        <h:form>
            
        <h2>Create Librarian</h2>
        <h:messages id="librarianCreationStatus" styleClass="error" />
        <h:panelGrid columns="3">
                <h:outputText value="User Email: " />
                <h:selectOneMenu id="selectLibrarianEmail" value="#{adminBean.email}">               
                    <f:selectItems value="#{adminBean.librariansEmails}"/>
                </h:selectOneMenu>
                <h:message id="kot1" for="" styleClass="error"/>
                <h:outputText value="Password:" />
                <h:inputSecret id="inputLibrarianPassword" value="#{adminBean.password}" required="true" requiredMessage="Please enter a password!"/>               
                <h:message id="inputLibrarianPasswordMessage" for="inputLibrarianPassword" styleClass="error"/> 
        </h:panelGrid> 
        <p/>
        <h:commandButton value="Create Libriarian" action="#{adminBean.createLibrarian}">
             <f:ajax execute="inputLibrarianPassword selectLibrarianEmail" render="inputLibrarianPassword selectLibrarianEmail inputLibrarianPasswordMessage librarianCreationStatus"/>
        </h:commandButton>
       
        <h2>Create Instructor</h2>
        <h:messages id="instructorCreationStatus" styleClass="error" />
        <h:panelGrid columns="3">
                <h:outputText value="User Email:" />
                <h:selectOneMenu id="selectInstructorEmail" value="#{adminBean.email}">               
                    <f:selectItems value="#{adminBean.instructorsEmails}"/>
                </h:selectOneMenu>
                <h:message id="kot2" for="" styleClass="error"/>
                <h:outputText value="Password:" />
                <h:inputSecret id="inputInstructorPassword" value="#{adminBean.password}" required="true" requiredMessage="Please enter a password!"/>
                <h:message id="inputInstructorPasswordMessage" for="inputInstructorPassword" styleClass="error"/>
        </h:panelGrid>  
        <p/>
          <h:commandButton value="Create Instructor" action="#{adminBean.createInstructor}">
             <f:ajax execute="inputInstructorPassword selectInstructorEmail" render="inputInstructorPassword selectInstructorEmail inputInstructorPasswordMessage instructorCreationStatus"/>
        </h:commandButton>
        
        <h2>Create Book Category</h2>
        <h:messages id="categoryCreationStatus" styleClass="error" />
        <h:panelGrid columns="3">
                <h:outputText value="Book Category Name:" />
                <h:inputText id="inputCategoryName" value="#{adminBean.bookCategoryName}" required="true" requiredMessage="Please enter a name for the book category!"/>
                <h:message id="inputCategoryNameMessage" for="inputCategoryName" styleClass="error"/>
        </h:panelGrid>    
        <p/>
        <h:commandButton value="Create Category" action="#{adminBean.createBookCategory}">
             <f:ajax execute="inputCategoryName" render="inputCategoryNameMessage categoryCreationStatus inputCategoryName"/>
        </h:commandButton>
        
        
        <h2>Create Book Subcategory</h2>
        <h:messages id="subcategoryCreationStatus" styleClass="error" />
        <h:panelGrid columns="3">
            
                <h:outputText value="Book Subategory Name:" />
                <h:inputText id="inputSubcategoryName" value="#{adminBean.bookSubcategoryName}" required="true" requiredMessage="Please enter a name for the book subcategory!"/>
                <h:message id="inputSubcategoryNameMessage" for="inputSubcategoryName" styleClass="error"/>      
                <h:outputText value="Select belonging category:" />
                <h:selectOneMenu id="selectBelongingCategory" value="#{adminBean.bookCategoryName1}">               
                    <f:selectItems value="#{adminBean.bookCategories}"/>
                </h:selectOneMenu>
                <h:message id="kot3" for="" styleClass="error"/>   
                
        </h:panelGrid>     
        <p/>
        <h:commandButton value="Create Subcategory" action="#{adminBean.createBookSubcategory}">
             <f:ajax execute="inputSubcategoryName selectBelongingCategory" render="subcategoryCreationStatus inputSubcategoryNameMessage inputSubcategoryName selectBelongingCategory"/>
        </h:commandButton>
        
        <h:commandButton value="Refresh Book Categories List">
             <f:ajax execute="selectBelongingCategory" render="selectBelongingCategory"/>
        </h:commandButton>
       
        <h2>Create Book</h2>
        <h:messages id="bookCreationStatus" styleClass="error"/>
        <h:panelGrid columns="3">         
               <h:outputText value="ISBN: " />
               <h:inputText id="inputISBN" value="#{adminBean.book.isbn}" required="true" requiredMessage="Please insert an ISBN for the book!"/>
               <h:message id="inpuISBNMessage" for="inputISBN" styleClass="error"/>
               
               <h:outputText value="Title: " />
               <h:inputText id="inputTitle" value="#{adminBean.book.title}" required="true" requiredMessage="Please insert a title for the book!"/>
               <h:message id="inputTitleMessage" for="inputTitle" styleClass="error"/>
               
               <h:outputText value="Description: " />
               <h:inputText id="inputDescription" value="#{adminBean.book.description}" required="true" requiredMessage="Please insert a Description for the book!"/>
               <h:message id="inputDescriptionMessage" for="inputDescription" styleClass="error"/>
               
                <h:outputText value="Book Subcategory: " />
                <h:selectOneMenu id="selectBelongingSubcategory" value="#{adminBean.bookSubcategoryName}">               
                    <f:selectItems value="#{adminBean.bookSubcategories}"/>
                </h:selectOneMenu>
                <h:message id="kot4" for="" styleClass="error"/>
                
                <h:outputText value="Hold Flag: " />
                <h:selectOneMenu id="selectHoldFlag" value="#{adminBean.book.holdFlag}">               
                    <f:selectItem itemValue="f" itemLabel="False"  />
                    <f:selectItem itemValue="t" itemLabel="True"  />
                </h:selectOneMenu>
                <h:message id="kot5" for="" styleClass="error"/>

               <h:outputText value="Number of Copies: " />
               <h:inputText id="inputNumberOfCopies" value="#{adminBean.book.numberOfCopies}" required="true" requiredMessage="Please insert the number of copies!"/>
               <h:message id="inputNumberOfCopiesMessage" for="inputNumberOfCopies" styleClass="error"/>
               
               <h:outputText value="Edition No: " />
               <h:inputText id="inputEditionNo" value="#{adminBean.book.editionNo}" required="true" requiredMessage="Please insert the ediotion no.!"/>
               <h:message id="inputEditionNoMessage" for="inputEditioNo" styleClass="error"/>           
        </h:panelGrid>     
        <p/>
        <h:commandButton value="Insert Book" action="#{adminBean.insertBook}">
             <f:ajax execute="inputISBN inputTitle inputDescription selectBelongingSubcategory selectHoldFlag inputNumberOfCopies inputEditionNo" render=
                     "bookCreationStatus selectBelongingCategory inpuISBNMessage inputDescriptionMessage inputTitleMessage"/>
        </h:commandButton>
        </h:form>
         
        
    </h:body>
</html>

